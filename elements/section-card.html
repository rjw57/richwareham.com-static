<link rel="import" href="../js/bower_components/polymer/polymer.html">

<polymer-element name="section-card" noscript block vertical layout
    attributes="label icon theme featured href coverSrc">
  <template>
    <core-style ref="rw-theme"></core-style>

    <style>
      [card] {
        margin: 8px;
        background-position: 50% 33%;
        background-size: cover;
      }
      [content] > * { padding: 8px; }
      [label] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      [featured-label] {
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .icon { width: 32px; height: 32px; }
      .featured.icon { width: 96px; height: 96px; }
      @media (screen and min-midth: 1024px) {
        .featured.icon { width: 128px; height: 128px; }
      }
    </style>

    <div relative card flex class="theme {{ theme ? theme : 'grey' }} bg fg"
        _style="{{ coverSrc ? 'background-image: url(' + coverSrc + ')' : '' }}"
        vertical layout>
      <paper-shadow></paper-shadow>

      <template if="{{featured || featured === ''}}">
        <div flex vertical layout content>
          <div flex horizontal layout center-justified>
            <div vertical layout center-justified>
              <core-icon class="featured icon" icon="{{ icon }}"></core-icon>
            </div>
          </div>
          <div class="theme text secondary bg fg">
            <div featured-label>{{ label }}</div>
          </div>
        </div>
      </template>

      <template if="{{!featured && featured !== ''}}">
        <div flex horizontal layout content>
          <template if="{{icon}}">
            <div vertical layout center-justified>
              <core-icon class="icon" icon="{{ icon }}"></core-icon>
            </div>
          </template>
          <div flex vertical layout center-justified>
            <div label>{{ label }}</div>
          </div>
        </div>
      </template>

      <a overlay href="{{href}}" hidden?="{{!href}}" id="link">
        <paper-ripple fit></paper-ripple>
      </a>
    </div>
  </template>
</polymer-element>
