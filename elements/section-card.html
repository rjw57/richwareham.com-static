<link rel="import" href="../js/bower_components/polymer/polymer.html">

<polymer-element name="section-card" noscript block vertical layout
    attributes="label icon theme featured href coverSrc">
  <template>
    <core-style ref="rw-theme"></core-style>

    <style>
      [card] {
        margin: 8px;
        background-position: 50% 33%;
        background-size: cover;
      }
      [content] > * { padding: 8px; }
      [label] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      [featured-label] {
        overflow: hidden;
        text-overflow: ellipsis;
      }
    </style>

    <core-media-query query="min-width: 1024px" queryMatches="{{ wide }}">
    </core-media-query>

    <div relative card flex class="theme {{ theme ? theme : 'grey' }} bg fg"
        _style="{{ coverSrc ? 'background-image: url(' + coverSrc + ')' : '' }}"
        vertical layout>
      <paper-shadow></paper-shadow>

      <template if="{{featured !== null}}">
        <div flex vertical layout content>
          <div flex horizontal layout center-justified>
            <div vertical layout center-justified>
              <core-icon icon="{{ icon }}" size="{{ wide ? 128 : 96 }}"></core-icon>
            </div>
          </div>
          <div class="theme text secondary bg fg">
            <div featured-label>{{ label }}</div>
          </div>
        </div>
      </template>

      <template if="{{featured === null}}">
        <div flex horizontal layout content>
          <template if="{{icon}}">
            <div vertical layout center-justified>
              <core-icon icon="{{ icon }}" size="32"></core-icon>
            </div>
          </template>
          <div flex vertical layout center-justified>
            <div label>{{ label }}</div>
          </div>
        </div>
      </template>

      <a overlay href="{{href}}" hidden?="{{!href}}" id="link">
        <paper-ripple fit></paper-ripple>
      </a>
    </div>
  </template>
</polymer-element>
