<link rel="import" href="../js/bower_components/polymer/polymer.html">
<link rel="import" href="paper-icon-link.html">

<polymer-element name="page-card" block noscript class="theme white bg fg">
  <template>
    <paper-shadow z="0"></paper-shadow>
    <!-- Direct use of classes is required because IE doesn't accept link clicks otherwise -->
    <div class="card paper-shadow-top paper-shadow-top-z-1">
      <div class="card-inner paper-shadow-bottom paper-shadow-bottom-z-1">
        <content></content>
      </div>
    </div>
  </template>
</polymer-element>

<polymer-element name="page-pane" block noscript
    attributes="pageTitle theme href icon coverSrc coverAlt">
  <template>
    <style>
      @media (min-width: 960px) {
        page-card { width: 800px; }
        nav { position: fixed; padding: 16px; color: rgba(0,0,0,0.54); }
        [pageicon] { position: relative; top: -28px; }
        [card-wrapper] { padding: 64px 0; }
      }
      [pageicon] { opacity: 0.87; }
      [cover] {
        background-size: cover;
        background-position: 50% 33%;
        width: 100%;
        height: 33vw;
      }
      [coveralt] {
        padding: 8px 16px;
        font-size: 12px;
        background-color: black;
        color: white;
        opacity: 0.54;
        border-radius: 4px 0 0 0;
      }

      @media screen and (min-width: 960px) {
        [cover] { height: 320px; }
      }
    </style>
    <core-style ref="rw-theme"></core-style>
    <core-media-query query="min-width: 960px" queryMatches="{{ wide }}">
    </core-media-query>

    <template if="{{!wide}}">
      <core-scroll-header-panel fit class="theme white bg fg">
        <core-toolbar class="theme {{ theme ? theme : 'grey' }} bg fg">
          <paper-icon-link icon="arrow-back" href="{{ href ? href : '/' }}"></paper-icon-link>
          <div flex>{{ pageTitle }}</div>
          <template if="{{icon}}">
            <core-icon pageicon icon="{{icon}}" style="width: 32px; height: 32px"></core-icon></template>
        </core-toolbar>
        <div content>
          <template if="{{ coverSrc }}">
            <div cover _style"background-image: url({{ coverSrc }});" vertical layout end-justified>
              <template if="{{ coverAlt }}"><div coveralt self-end >{{ coverAlt }}</div></template>
            </div>
          </template>
          <content></content>
        </div>
      </core-scroll-header-panel>
    </template>

    <template if="{{wide}}">
      <nav>
        <paper-icon-link icon="arrow-back" href="{{ href ? href : '/' }}"></paper-icon-link>
      </nav>
      <div horizontal layout center-justified card-wrapper>
        <page-card>
          <core-toolbar class="medium-tall theme {{ theme ? theme : 'grey' }} bg fg">
            <div class="bottom" flex>{{ pageTitle }}</div>
            <template if="{{icon}}">
              <core-icon class="bottom" pageicon icon="{{icon}}" style="width: 72px; height: 72px">
              </core-icon>
            </template>
          </core-toolbar>
          <template if="{{ coverSrc }}">
            <a href="{{ coverSrc }}" target="_blank">
              <div cover _style="background-image: url({{ coverSrc }});" vertical layout end-justified>
                <template if="{{ coverAlt }}"><div coveralt self-end >{{ coverAlt }}</div></template>
              </div>
            </a>
          </template>
          <content></content>
        <page-card>
      </div>
    </template>
  </template>
</polymer-element>

